<?xml version="1.0" encoding="UTF-8"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:sch="http://purl.oclc.org/dsdl/schematron"
    xml:lang="en">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>DraCor API Customization</title>
                <respStmt>
                    <resp>TEI Customization/ODD developed by</resp>
                    <name xml:id="ib">Ingo Boerner</name>
                    <name xml:id="cmil">Carsten Milling</name>
                </respStmt>
            </titleStmt>
            <publicationStmt>
                <publisher>dracor.org</publisher>
                <availability status="free">
                    <licence>CC BY</licence>
                </availability>
            </publicationStmt>
            <sourceDesc>
                <p>born digital</p>
            </sourceDesc>
        </fileDesc>
        <!-- Example of how the features could be formally defined within a TEI Document; not sure if these really produces added value 
            because this part of the ODD would not be rendered (the table below is included, though). The formal definition of the features is done in the
            ontology. It might be an option to define them here and generate the API ontlogy, but this would involve a lot of tinkering.
            One problem is that I can not link to the features in the <remarks> in the <elementSpec>. Thus it is somewhat useless to define them here.
            -->
        <!-- 
        <encodingDesc>
            <fsdDecl>
                <fsDecl type="corpus">
                    <fsDescr>Corpus features</fsDescr>
                    <fDecl name="corpus_name" targetDatcat="https://dracor.org/ontology/dracor-api-ontology#corpus_name">
                        <fDescr>Identifier "corpusname"</fDescr>
                        <vRange>
                            <string/>
                        </vRange>
                    </fDecl>
                </fsDecl>
                <fsDecl type="play">
                    <fsDescr>Play features</fsDescr>
                    <fDecl name="play_corpus_name" targetDatcat="https://dracor.org/ontology/dracor-api-ontology#play_corpus_name">
                        <fDescr>Identifier "corpusname" of the corpus the play is included in</fDescr>
                        <vRange>
                            <string/>
                        </vRange>
                    </fDecl>
                </fsDecl>
            </fsdDecl>
        </encodingDesc>
        -->
    </teiHeader>
    <text>
        <body>

            <p>This customization restricts the use of TEI Guidelines to allow a smooth integration
                into the DraCor system. It is originally based on the <ref
                    target="https://tei-c.org/release/xml/tei/custom/odd/tei_drama.odd">TEI ODD for
                    Drama</ref> and was was extended with the TEI elements that were already
                included in the legacy DraCor ODD.</p>
            <!-- TODO: Adapt D71 API part and include here -->
            <p>The DraCor API is designed with a domain model of digital drama analysis in mind and
                thus organizes the API functionality around the two core entities “corpus” and
                theater “play”, thus following the assumption already mentioned above that corpora
                are the central epistemic objects of Computational Literary Studies (cf. Gavin 2023:
                4).</p>
            <p>
                <!--The endpoints grouped under “public” tag in the OpenAPI specification of the DraCor
                API are providing information on <list>
                    <item>a single-language corpus,</item>
                    <item>a single play in a corpus,</item>
                    <item>data on the key constituents of a play, i.e. , <list>
                            <item>segments,</item>
                            <item>characters,</item>
                            <item>the spoken text and</item>
                            <item>stage directions, as well as</item>
                        </list></item>
                    <item>derived network data on a single play, its characters, and their
                        relations.</item>
                </list>  --> These aspects are seldom fully covered by a single
                endpoint because the information on a single entity is available in different
                serializations or structured with a different focus or probable use case in
                mind.</p>
            <p>The following sections list the <soCalled>features</soCalled>. The tables X in the
                annex provide an overview how these features are dispersed over the response objects
                of the various endopoints.</p>

            <div xml:id="div_api_features">
                <head>API features</head>

                <div xml:id="div_corpus_features">
                    <head>Corpus features</head>

                    <div xml:id="corpus_name">
                        <head>Corpus Name</head>
                        <p>Feature <idno type="feature-no">C1</idno>
                            <idno type="feature-id">corpus_name</idno>: Identifier "name" or
                            "corpusname" of a corpus, e.g. "ger" for the "German Drama Corpus".</p>
                        <p>Normally this identifier is used as path parameter in requests to the
                            DraCor API.</p>
                    </div>

                    <div xml:id="corpus_uri">
                        <head>Corpus URI</head>
                        <p>Feature <idno type="feature-no">C2</idno>
                            <idno type="feature-id">corpus_uri</idno>: Identifier "uri" of a corpus.
                            It is equal to the the full URL of the /corpora/{corpusname}
                            endpoint.</p>
                    </div>

                    <div xml:id="corpus_title">
                        <head>Corpus Title</head>
                        <p>Feature <idno type="feature-no">C3</idno>
                            <idno type="feature-id">corpus_title</idno>: Full title of a corpus,
                            e.g. "Ukrainian Drama Corpus".</p>
                    </div>

                    <div xml:id="corpus_acronym">
                        <head>Corpus Acronym</head>
                        <p>Feature <idno type="feature-no">C4</idno>
                            <idno type="feature-id">corpus_acronym</idno>: Acronym of a corpus.
                            Normally, it is the identifier "name"/"corpusname" (see "corpus_name",
                            but starting with a capital letter) followed by the string "DraCor",
                            e.g. "TatDraCor".</p>
                        <p>In the TEI source data the corpus acronym can be explicity set by
                            including an element <gi>title</gi>; with the value <val>acronym</val>
                            of the attribute <att>type</att> in in the metadata file of a corpus
                            ("corpus.xml").</p>
                        <p>If this element is missing, the value of the element <gi>idno</gi> with
                            with the attribute <att>type</att> value of <val>URI</val> from the
                            "corpus.xml" is extracted and prepended with "DraCor".</p>
                    </div>

                    <div xml:id="corpus_description">
                        <head>Corpus Description</head>
                        <p>Feature <idno type="feature-no">C5</idno>
                            <idno type="feature-id">corpus_description</idno>: Description of a
                            corpus. In the TEI source data this information is contained in the
                            element <gi>projectDesc</gi>in the "corpus.xml" file.</p>
                        <p>The value returned can be formatted using Markdown. The transformation of
                            TEI into Markdown is handled by the function 'local:to-markdown' in
                            'util.xqm' which transforms TEI elements <gi>hi</gi> and <gi>ref</gi>
                            for hyperlinks.</p>
                    </div>

                    <div xml:id="corpus_repository">
                        <head>Corpus Repository</head>
                        <p>Feature <idno type="feature-no">C6</idno>
                            <idno type="feature-id">corpus_repository</idno>: URL of the (GitHub)
                            repository that contains the TEI source data. The information is
                            extracted from the element <gi>idno</gi> with the value <val>repo</val>
                            of the attribute <att>type</att> in a "corpus.xml" file.</p>
                    </div>

                    <div xml:id="corpus_licence">
                        <head>Corpus Licence</head>
                        <p>Feature <idno type="feature-no">C7</idno>
                            <idno type="feature-id">corpus_licence</idno>: Licence information of a
                            corpus. The value is a string identifying the licence, e.g.
                                <val>CC0</val>. The information is extracted from the corpus
                            metadata in "corpus.xml". It is the text content of the element
                                <gi>licence</gi>.</p>
                    </div>

                    <div xml:id="corpus_licence_url">
                        <head>Corpus Licence URL</head>
                        <p>Feature <idno type="feature-no">C8</idno>
                            <idno type="feature-id">corpus_licence_url</idno>: Identifier/URL of a
                            licence. The value is extracted from the attribute <att>target</att> of
                            the element <gi>licence</gi> in the "corpus.xml" file.</p>
                    </div>

                    <div xml:id="corpus_num_of_plays">
                        <head>Number of Plays in a Corpus</head>
                        <p>Feature <idno type="feature-no">C9</idno>
                            <idno type="feature-id">corpus_num_of_plays</idno>: Number of plays in a
                            corpus. The value is the number of <gi>TEI</gi> elements (should be
                            equal to files) in a given corpus collection in the underlying eXist-DB
                            database.</p>
                    </div>

                    <div xml:id="corpus_num_of_characters">
                        <head>Number of Characters in a Corpus</head>
                        <p>Feature <idno type="feature-no">C10</idno>
                            <idno type="feature-id">corpus_num_of_characters</idno>: Number of
                            characters in a corpus. The value is the number of all <gi>person</gi>
                            and <gi>personGrp</gi> elements in all <gi>listPerson</gi> elements in a
                            given collection representing a corpus in the underlying eXist-DB
                            database.</p>
                    </div>

                    <div xml:id="corpus_num_of_characters_male">
                        <head>Number of Male Characters in a Corpus</head>
                        <p>Feature <idno type="feature-no">C11</idno>
                            <idno type="feature-id">corpus_num_of_characters_male</idno>: Number of
                            male characters in a corpus. The value is the number of all elements
                                <gi>person</gi> and <gi>personGrp</gi> that are classified with the
                            value <val>MALE</val> in the attribute <att>sex</att> in all
                                <gi>listPerson</gi> elements in a given collection representing a
                            corpus in the underlying eXist-DB database.</p>
                    </div>

                    <div xml:id="corpus_num_of_characters_female">
                        <head>Number of Female Characters in a Corpus</head>
                        <p>Feature <idno type="feature-no">C12</idno>
                            <idno type="feature-id">corpus_num_of_characters_female</idno>: Number
                            of female characters in a corpus. The value is the number of all
                                <gi>person</gi> and <gi>personGrp</gi> that are classified with the
                            value <val>FEMALE</val> in the attribute <att>sex</att> in all
                                <gi>listPerson</gi>l elements in a given collection representing a
                            corpus in the underlying eXist database.</p>
                    </div>

                    <div xml:id="corpus_num_of_tei_text_elements">
                        <head>Number of Text Elements in a Corpus</head>
                        <p>Feature <idno type="feature-no">C13</idno>
                            <idno>corpus_num_of_tei_text_elements</idno>: Number of <gi>text</gi>
                            elements in a corpus. The value is the number of <gi>text</gi> elmenents
                            in all TEI files in a collection representing a corpus in the underlying
                            eXist-DB database.</p>
                        <p>In earlier versions of DraCor files a TEI file can contain multiple
                                <gi>tei:text</gi> elements, e.g. when there are multiple one act
                            plays published together.</p>
                        <p>Since this iteration of the schema the content model of <gi>TEI</gi> is
                            adapted to allow only a single element <gi>text</gi>, therefore the
                            value of this feature should match feature
                                <name>corpus_num_of_plays</name>.</p>
                    </div>

                    <div xml:id="corpus_num_of_sp">
                        <head>Number of Speech Acts in a Corpus</head>
                        <p>Feature <idno type="feature-no">C14</idno>
                            <idno type="feature-id">corpus_num_of_sp</idno>: Number of speech acts
                            in a corpus.</p>
                        <p>The value is the number of <gi>sp</gi> elements in a collection
                            representing a corpus in the underlying eXist-DB database.</p>
                    </div>

                    <div xml:id="corpus_num_of_stage">
                        <head>Number of Stage Directions in a Corpus</head>
                        <p>Feature <idno type="feature-no">C15</idno>
                            <idno type="feature-id">corpus_num_of_stage</idno>: Number of stage
                            directions in a corpus.</p>
                        <p>The value is the number of <gi>stage</gi> elements in a collection
                            representing a corpus in the underlying eXist-DB database.</p>
                    </div>

                    <div xml:id="corpus_num_of_word_tokens_in_text_elements">
                        <head>Number of Word Tokens in Text Elements in a Corpus</head>
                        <p>Feature <idno type="feature-no">C16</idno>
                            <idno type="feature-id"
                                >corpus_num_of_word_tokens_in_text_elements</idno>: Number of word
                            tokens in <gi>text</gi> elements in the corpus.</p>
                        <p>The number of tokens for each TEI file is pre-calculated upon ingest into
                            the eXist-DB database by tokenizing the contents of the elements
                                <gi>text</gi> with the the built-in xPath function
                                <name>tokenize()</name>. The regular expression '\W+' is used as
                            separator. The values of all documents in a corpus collection are summed
                            up.</p>
                    </div>

                    <div xml:id="corpus_num_of_word_tokens_in_sp">
                        <head>Number of Word Tokens in Speech Acts in a Corpus</head>
                        <p>Feature <idno type="feature-no">C17</idno>
                            <idno type="feature-id">corpus_num_of_word_tokens_in_sp</idno>: Number
                            of word tokens in <gi>sp</gi> elements in the corpus.</p>
                        <p>The number of tokens for each TEI file is pre-calculated upon ingest into
                            the eXist-DB database by tokenizing the contents of the elements
                                <gi>sp</gi> with the built-in xPath function
                            <name>tokenize()</name>. The regular expression '\W+' is used as
                            separator. The values of all documents in a corpus collection are summed
                            up.</p>
                    </div>

                    <div xml:id="corpus_num_of_word_tokens_in_stage">
                        <head>Number of Word Tokens in Stage Directions in a Corpus</head>
                        <p>Feature <idno type="feature-no">C18</idno>
                            <idno type="feature-id">corpus_num_of_word_tokens_in_stage</idno>:
                            Number of word tokens in &lt;tei:stage&gt; elements in the corpus. The
                            number of tokens for each TEI file is pre-calculated upon ingest into
                            the eXist database by tokenizing the contents of the elements tei:sp
                            with the built-in xPath function 'teokenize()'. The regular expression
                            '\W+' is used as separator. The values of all documents in a corpus
                            collection are summed up.</p>
                    </div>

                    <div xml:id="corpus_metrics_date_updated">
                        <head>Date Updated of Corpus Metrics</head>
                        <p>Feature <idno type="feature-no">C19</idno>
                            <idno type="feature-id">corpus_metrics_date_updated</idno>: Most recent
                            date and time the metrics of a document in a collection in the eXist
                            database representing a corpus were updated. The function retrieves the
                            update date/time values (attribute @updated) of all metrics files in a
                            collection and takes the maximum value using the built-in function
                            'max'.</p>
                    </div>


                </div>
                <!-- /corpus features -->


                <div xml:id="div_play_features">
                    <head>Play features</head>
                    
                    <div xml:id="play_corpus_name">
                        <head>Name of the Corpus a Play is part of</head>
                        <p>Feature <idno type="feature-no">P1</idno> <idno type="feature-id">play_corpus_name</idno>: Name/Identifier "corpusname" (Feature C1) of the corpus the play is contained in.</p></div>
                    
                    <div xml:id="play_id">
                        <head>Play ID</head>
                        <p>Feature <idno type="feature-no">P2</idno> <idno type="feature-id">play_id</idno>: <name>DraCor ID</name> of the play, e.g. <val>ger000171</val>.</p>
                        <p>In the TEI source file the <name>DraCor ID</name> is contained in the attribute <att>xml:id</att> on the root element <gi>TEI</gi>.</p>
                        <p>The identifier SHOULD match the Regular Expression <val>^[a-z]+[0-9]{6}$</val>.</p>
                    </div>
                    
                    <div xml:id="play_uri">
                        <head>Play URI</head>
                        <p>Feature <idno type="feature-no">P65</idno> <idno type="feature-id">play_uri</idno>: URI of the play. It is equal to the the full URL of the /corpora/{corpusname}/plays/{playname} endpoint.</p></div>
                    
                    <div xml:id="play_name">
                        <head>Play Name</head>
                        <p>Feature <idno type="feature-no">P3</idno> <idno type="feature-id">play_name</idno>: Identifier "playname". Normally a combination of the name of the author and the title of the play, e.g. <val>lessing-emilia-galotti</val>.</p>
                        <p>It MUST be unique across a single corpus. This identifier is normally used as path parameters in requests to the DraCor API.</p>
                        <p>It is recommended that the file name of a document SHOULD be equal to the play name identifier.</p></div>
                    
                    <div xml:id="play_wikidata_id">
                        <head>Play Wikidata Identifier</head>
                        <p>Feature <idno type="feature-no">P4</idno> <idno type="feature-id">play_wikidata_id</idno>: Wikidata ID of the play. The value is the "Q-Number" of the item on Wikidata, e.g. <val>Q466333</val>.</p>
                        <p>In the TEI source document the information is contained in the <gi>standOff</gi> element as a <gi>relation</gi> element with the value <val>wikidata</val> of the attribute <att>name</att> as the full URI, e.g. <val>http://www.wikidata.org/entity/Q466333</val>.</p></div>
                    
                    <div xml:id="play_title">
                        <head>Play Title</head>
                        <p>Feature <idno type="feature-no">P5</idno> <idno type="feature-id">play_title</idno>: (Main) title of the play. Normally, the title is in the language of the corpus. The respective function extracts the text of the first element <gi>title</gi> in the <gi>titleStmt</gi> in the <gi>teiHeader</gi>.</p></div>
                    
                    <!-- 
                    <div xml:id="play_subtitle"><head/><p>Feature <idno type="feature-no">P6</idno> <idno type="feature-id">play_subtitle</idno>: Subtitle of the play. Normally, the subtitle is in the language of the corpus. The respective function extracts the text of the first element &lt;tei:title&gt; in &lt;tei:titleStmt&gt; in the &lt;tei:teiHeader&gt; that carries an attribute @type with the value 'sub'.</p></div>
                    
                    <div xml:id="play_title_en"><head/><p>Feature <idno type="feature-no">P7</idno> <idno type="feature-id">play_title_en</idno>: English translation of the original main title of the play. Extracts the text of the element &lt;tei:title&gt; with 'eng' as the attribute's @xml:lang value.</p></div>
                    
                    <div xml:id="play_subtitle_en"><head/><p>Feature <idno type="feature-no">P8</idno> <idno type="feature-id">play_subtitle_en</idno>: English translation of the original subtitle of the play. Extracts the text of the element &lt;tei:title&gt; with the value of the attribute @type being 'sub' and 'eng' as the attribute's @xml:lang value.</p></div>
                    
                    <div xml:id="play_author_name"><head/><p>Feature <idno type="feature-no">P9</idno> <idno type="feature-id">play_author_name</idno>: Name of the author of the play in the format '{surname}, {forename}', e.g. 'Shakespeare, William', 'Гоголь, Николай Васильевич'. The value can be used for sorting. The function takes the contents of the elements &lt;tei:persName&gt; or &lt;tei:name&gt; from the element &lt;tei:author&gt; in the &lt;tei:titleStmt&gt; and applies some processing logic: If the constituents are marked up with the special elements &lt;tei:surname&gt; and &lt;tei:forname&gt;, they are arranged in the order surname, forname. The optional attribute @sort on the element &lt;tei:surname&gt; is evaluated as well to distinguish the order of &lt;tei:surname&gt; elements. If no additional markup is present, the contents of the &lt;tei:name&gt; or &lt;tei:persName&gt; element is used.</p></div>
                    
                    <div xml:id="play_author_name_en"><head/><p>Feature <idno type="feature-no">P10</idno> <idno type="feature-id">play_author_name_en</idno>: English name of the author of a play in the format '{surname}, {forename}', e.g. 'Gogol, Nikolai' (in this case the value of 'author_name' is Гоголь, Николай Васильевич' including the patronym). </p></div>
                    
                    <div xml:id="play_author_fullname"><head/><p>Feature <idno type="feature-no">P11</idno> <idno type="feature-id">play_author_fullname</idno>: Full name of the author of the play including patronyms and other name constituents as encoded in the TEI source file in the element &lt;tei:persName&gt; or &lt;tei:name&gt; in &lt;tei:author&gt;. E.g. 'Николай Васильевич Гоголь', 'William Shakespeare'.</p></div>
                    
                    <div xml:id="play_author_fullname_en"><head/><p>Feature <idno type="feature-no">P12</idno> <idno type="feature-id">play_author_fullname_en</idno>: Full english name of the author of the play, e.g. 'Nikolai Gogol'.</p></div>
                    
                    <div xml:id="play_author_shortname"><head/><p>Feature <idno type="feature-no">P13</idno> <idno type="feature-id">play_author_shortname</idno>: Short name of the author of a play. Normally, the value is the author's surname only, e.g. 'Shakespeare' ,'Гоголь'.</p></div>
                    
                    <div xml:id="play_author_shortname_en"><head/><p>Feature <idno type="feature-no">P14</idno> <idno type="feature-id">play_author_shortname_en</idno>: English short name of the author of a play. Normally, it is the value of the author's surname only, e.g. 'Gogol'.</p></div>
                    
                    <div xml:id="play_first_author_shortname"><head/><p>Feature <idno type="feature-no">P16</idno> <idno type="feature-id">play_first_author_shortname</idno>: Short name of the first author of a play.</p></div>
                    
                    <div xml:id="play_author_also_known_as"><head/><p>Feature <idno type="feature-no">P18</idno> <idno type="feature-id">play_author_also_known_as</idno>: Alternative name of the author of a play, e.g. 'Titus Maccius Plautus' in case of the author 'Plautus'. In the source TEI file alternative names are encoded as additional elements &lt;tei:persName&gt;.</p></div>
                    
                    <div xml:id="play_author_ref_external_id"><head/><p>Feature <idno type="feature-no">P19</idno> <idno type="feature-id">play_author_ref_external_id</idno>: ID of the author in an external reference resource. This for example can be the 'Q-Number' of Wikidata.</p></div>
                    
                    <div xml:id="play_author_ref_type"><head/><p>Feature <idno type="feature-no">P20</idno> <idno type="feature-id">play_author_ref_type</idno>: Type of the ID of the author in an external reference resource, e.g. 'wikidata'.</p></div>
                    
                    <div xml:id="play_num_of_co_authors"><head/><p>Feature <idno type="feature-no">P21</idno> <idno type="feature-id">play_num_of_co_authors</idno>: Number of co-authors of a play. The value is the number of all authors of a play minus one.</p></div>
                    
                    <div xml:id="play_genre_normalized"><head/><p>Feature <idno type="feature-no">P22</idno> <idno type="feature-id">play_genre_normalized</idno>: Normalized genre of a play. The function performs a lookup using a Wikidata identifier provided in the element &lt;tei:classCode&gt; in &lt;tei:textClass&gt;. The normalized values can be 'Comedy', 'Tagedy', 'Tragicomedy', 'Satyr play'.</p></div>
                    
                    <div xml:id="play_is_libretto"><head/><p>Feature <idno type="feature-no">P23</idno> <idno type="feature-id">play_is_libretto</idno>: Indicates if a play is a libretto. The function performs a lookup using a Wikidata identifier provided in the element &lt;tei:classCode&gt; in &lt;tei:textClass&gt;. If the returned value is 'Libretto' the value of this property is 'true', otherwise 'false'.</p></div>
                    
                    <div xml:id="play_year_written"><head/><p>Feature <idno type="feature-no">P24</idno> <idno type="feature-id">play_year_written</idno>: Year of the creation of the play / year when the play was written.</p></div>
                    
                    <div xml:id="play_year_printed"><head/><p>Feature <idno type="feature-no">P25</idno> <idno type="feature-id">play_year_printed</idno>: Year the play was published / year of first printing.</p></div>
                    
                    <div xml:id="play_year_premiered"><head/><p>Feature <idno type="feature-no">P26</idno> <idno type="feature-id">play_year_premiered</idno>: Year the Play was premiered</p></div>
                    
                    <div xml:id="play_date_premiered"><head/><p>Feature <idno type="feature-no">P66</idno> <idno type="feature-id">play_date_premiered</idno>: Date the play was premiered. This is only available when the exact date of the premiere in ISO format (YYYY-MM-DD) is specified in element &lt;tei:standOff&gt;. This feature was added later and is not included in the 'Report on Programmable Corpora'.</p></div>
                    
                    <div xml:id="play_year_normalized"><head/><p>Feature <idno type="feature-no">P27</idno> <idno type="feature-id">play_year_normalized</idno>: Aus allen vorhandenen Datumsangaben (Entstehung, Veröffentlichung, Erstaufführung) wird
                        ein normalisiertes Jahr ausgewählt; entweder das jüngere Datum von Veröffentlichung und Erstaufführung oder das Jahr
                        der Entstehung, wenn die Veröffentlichung mehr als 10 Jahre danach stattgefunden hat. Normalized Year. Of all avaliable years (written, printed, premiered) a so-called 'normalized year' is selected; It is either the earlier on of printing or premiered or, if a work was published or performed much later (more than 10 years) after its creation, the year of its creation is taken as »Normalized Year« (if it is a range of years, the last of them is taken).</p></div>
                    
                    <div xml:id="play_digital_source_name"><head/><p>Feature <idno type="feature-no">P28</idno> <idno type="feature-id">play_digital_source_name</idno>: Name of the digital source of a play. Normally it is the name of the repository or project that provides a digital version of the play, e.g. 'Google Books', 'Wikisource', 'TextGrid Repository'.</p></div>
                    
                    <div xml:id="play_digital_source_url"><head/><p>Feature <idno type="feature-no">P29</idno> <idno type="feature-id">play_digital_source_url</idno>: URL of the digital source of a play.</p></div>
                    
                    <div xml:id="play_original_source_full_citation"><head/><p>Feature <idno type="feature-no">P30</idno> <idno type="feature-id">play_original_source_full_citation</idno>: Full citation of the play's original (print publication) source. In the TEI file the citation is contained in the element &lt;tei:bibl&gt; with the value 'originalSource' of the attribute @type inside the &lt;tei:sourceDesc&gt;.</p></div>
                    
                    <div xml:id="play_original_source_publisher"><head/><p>Feature <idno type="feature-no">P31</idno> <idno type="feature-id">play_original_source_publisher</idno>: Publisher of the print publication that was used as the original source. In the TEI data the content of the element &lt;tei:publisher&gt; in the &lt;tei:bibl&gt; representing the original source is extracted.</p></div>
                    
                    <div xml:id="play_original_source_publication_place"><head/><p>Feature <idno type="feature-no">P32</idno> <idno type="feature-id">play_original_source_publication_place</idno>: Place of publication of the print publication that was used as the original source. In the TEI data the content of the element &lt;tei:pubPlace&gt; in the &lt;tei:bibl&gt; representing the original source is extracted. If there are multiple places annotated, they are joined to a single string separated by ','.</p></div>
                    
                    <div xml:id="play_original_source_publication_year"><head/><p>Feature <idno type="feature-no">P33</idno> <idno type="feature-id">play_original_source_publication_year</idno>: Year of publication of the print publication that was used as the original source.</p></div>
                    
                    <div xml:id="play_original_source_num_of_pages"><head/><p>Feature <idno type="feature-no">P34</idno> <idno type="feature-id">play_original_source_num_of_pages</idno>: Extent of the original source in number of pages derived from the bibliographic reference. In the TEI file the element &lt;tei:biblScope&gt; holds a page range encoded in the attribute @from and @to. The value is calculated by taking the value of @to and substracting the value of @from and adding 1.</p></div>
                    
                    <div xml:id="play_num_of_wikipedia_links"><head/><p>Feature <idno type="feature-no">P35</idno> <idno type="feature-id">play_num_of_wikipedia_links</idno>: Number of Wikipedia links of a play. The links are counted upon ingest of the TEI file into the system using the Wikidata Query Service. The query looks for connections based on the property 'schema:about' (?sitelink schema:about wd:' || $id || ' .) and filters the results with the regular expression '[.]wikipedia[.]org'.</p></div>
                    
                    <div xml:id="play_num_of_segments"><head/><p>Feature <idno type="feature-no">P37</idno> <idno type="feature-id">play_num_of_segments</idno>: Number of segments (e.g. scenes) of a play. Usually &lt;tei:div&gt; elements inside &lt;tei:body&gt; are considered a segment if they contain a speech marked up by an element &lt;tei:sp&gt;. However, also 'empty scenes' with no speaking characters are considered a segment, e.g. elements &lt;tei:div&gt; that consist of stage directions (&lt;tei:stage&gt;) only.</p></div>
                    
                    <div xml:id="play_num_of_acts"><head/><p>Feature <idno type="feature-no">P38</idno> <idno type="feature-id">play_num_of_acts</idno>: Number of acts of a play. In the TEI file acts are elements &lt;tei:div&gt; with an attribute @type value of 'act'. The function extracting the information returns the number of such &lt;tei:div&gt; elements.</p></div>
                    
                    <div xml:id="play_num_of_paragraphs"><head/><p>Feature <idno type="feature-no">P39</idno> <idno type="feature-id">play_num_of_paragraphs</idno>: </p></div>
                    
                    <div xml:id="play_num_of_verse_lines"><head/><p>Feature <idno type="feature-no">P40</idno> <idno type="feature-id">play_num_of_verse_lines</idno>: </p></div>
                    
                    <div xml:id="play_num_of_word_tokens_in_text_elements"><head/><p>Feature <idno type="feature-no">P41</idno> <idno type="feature-id">play_num_of_word_tokens_in_text_elements</idno>: </p></div>
                    
                    <div xml:id="play_num_of_word_tokens_in_sp"><head/><p>Feature <idno type="feature-no">P42</idno> <idno type="feature-id">play_num_of_word_tokens_in_sp</idno>: </p></div>
                    
                    <div xml:id="play_num_of_word_tokens_in_stage"><head/><p>Feature <idno type="feature-no">P43</idno> <idno type="feature-id">play_num_of_word_tokens_in_stage</idno>: </p></div>
                    
                    <div xml:id="play_num_of_speakers"><head/><p>Feature <idno type="feature-no">P45</idno> <idno type="feature-id">play_num_of_speakers</idno>: Number of Speakers of a Play</p></div>
                    
                    <div xml:id="play_num_of_speakers_gender_female"><head/><p>Feature <idno type="feature-no">P46</idno> <idno type="feature-id">play_num_of_speakers_gender_female</idno>: </p></div>
                    
                    <div xml:id="play_num_of_speakers_gender_male"><head/><p>Feature <idno type="feature-no">P47</idno> <idno type="feature-id">play_num_of_speakers_gender_male</idno>: </p></div>
                    
                    <div xml:id="play_num_of_speakers_gender_unknown"><head/><p>Feature <idno type="feature-no">P48</idno> <idno type="feature-id">play_num_of_speakers_gender_unknown</idno>: </p></div>
                    
                    <div xml:id="play_num_of_person_groups"><head/><p>Feature <idno type="feature-no">P49</idno> <idno type="feature-id">play_num_of_person_groups</idno>: </p></div>
                    
                    <div xml:id="play_all_in_segment"><head/><p>Feature <idno type="feature-no">P50</idno> <idno type="feature-id">play_all_in_segment</idno>: </p></div>
                    
                    <div xml:id="play_all_in_index"><head/><p>Feature <idno type="feature-no">P51</idno> <idno type="feature-id">play_all_in_index</idno>: </p></div>
                    
                    <div xml:id="play_network_data_csv_url"><head/><p>Feature <idno type="feature-no">P53</idno> <idno type="feature-id">play_network_data_csv_url</idno>: </p></div>
                    
                    <div xml:id="play_network_size"><head/><p>Feature <idno type="feature-no">P55</idno> <idno type="feature-id">play_network_size</idno>: </p></div>
                    
                    <div xml:id="play_network_num_edges"><head/><p>Feature <idno type="feature-no">P56</idno> <idno type="feature-id">play_network_num_edges</idno>: </p></div>
                    
                    <div xml:id="play_network_average_degree"><head/><p>Feature <idno type="feature-no">P57</idno> <idno type="feature-id">play_network_average_degree</idno>: Average Degree of the Network representing a Play</p></div>
                    
                    <div xml:id="play_network_density"><head/><p>Feature <idno type="feature-no">P58</idno> <idno type="feature-id">play_network_density</idno>: Density of a Network representing a Play</p></div>
                    
                    <div xml:id="play_network_diameter"><head/><p>Feature <idno type="feature-no">P59</idno> <idno type="feature-id">play_network_diameter</idno>: </p></div>
                    
                    <div xml:id="play_network_average_path_length"><head/><p>Feature <idno type="feature-no">P60</idno> <idno type="feature-id">play_network_average_path_length</idno>: Average Path Length of a Network representing a Play</p></div>
                    
                    <div xml:id="play_network_average_clustering"><head/><p>Feature <idno type="feature-no">P61</idno> <idno type="feature-id">play_network_average_clustering</idno>: </p></div>
                    
                    <div xml:id="play_network_num_connected_components"><head/><p>Feature <idno type="feature-no">P62</idno> <idno type="feature-id">play_network_num_connected_components</idno>: </p></div>
                    
                    <div xml:id="play_network_max_degree"><head/><p>Feature <idno type="feature-no">P63</idno> <idno type="feature-id">play_network_max_degree</idno>: </p></div>
                    
                    <div xml:id=""><head/><p>Feature <idno type="feature-no"/> <idno type="feature-id"/>: ID of the character with the highest degree value in a network representing a play. In the report
                        'On programmable corpora' the corresponding feature is 'P64'.</p></div>
                    -->

                    
                </div> <!-- /play feature -->
            </div>
            <!-- /API features -->

            <div xml:id="div_schema">
                <head>Schema</head>
                <schemaSpec ident="dracor-api" docLang="en" prefix="tei_" xml:lang="en" start="TEI">

                    <!-- modules included in the tei_drama ODD:
                header, core, tei, textstructure, linking, drama
                -->
                    <moduleRef key="header"/>
                    <moduleRef key="core"/>
                    <moduleRef key="tei"/>
                    <moduleRef key="textstructure" except="div1 div2 div3 div4 div5 div6 div7"/>
                    <moduleRef key="linking"/>
                    <moduleRef key="drama"/>

                    <!-- The dracor-legacy ODD also included additional elements from the following modules: -->

                    <moduleRef key="namesdates"
                        include="event forename genName listEvent listPerson listRelation nameLink person personGrp persName relation surname"/>
                    <moduleRef key="corpus" include="particDesc"/>
                    <moduleRef key="figures" include="figure"/>

                    <!-- The module analysis was originally included to have the analysis attributes; 
                they might become available by including module classes below-->
                    <!-- <moduleRef key="analysis"/> -->

                    <!-- global changes to the class system introduced by tei-drama -->

                    <!-- removed "linking" adaptions for for DraCor: -->

                    <!-- <classSpec predeclare="true" module="linking" xml:id="CLLINK"
                type="atts" ident="att.global.linking" mode="change">
                <desc xml:lang="en" versionDate="2014-01-12">defines the
                    attributes used for aggregating partial elements into a
                    single virtual element.</desc>
                <attList>
                    <attDef ident="corresp" usage="opt" mode="delete"/>
                    <attDef ident="synch" usage="opt" mode="delete"/>
                    <attDef ident="sameAs" usage="opt" mode="delete"/>
                    <attDef ident="copyOf" usage="opt" mode="delete"/>
                    <attDef ident="next" usage="opt" mode="change">
                        <valDesc mode="change">a URI which should point to an element of
                            the same type, typically within the same document</valDesc>
                    </attDef>
                    <attDef ident="prev" usage="opt" mode="change">
                        <valDesc mode="change">a URI which should point to an element of
                            the same type, typically within the same document</valDesc>
                    </attDef>
                    <attDef ident="exclude" usage="opt" mode="delete"/>
                    <attDef ident="select" usage="opt" mode="delete"/>
                </attList>     
            </classSpec> -->

                    <classSpec module="tei" xml:id="GLOBAL" type="atts" ident="att.global"
                        mode="change">
                        <desc xml:lang="en" versionDate="2014-01-12">provides a set of attributes
                            common to all elements in the <name>tei_drama</name> customization of
                            the TEI encoding scheme.</desc>
                        <classes>
                            <!-- removed linking as introduced in tei-drama for DraCor globally here -->
                            <!-- this included and changed prev, next as defined in the uncommented parts above -->
                            <!-- <memberOf key="att.global.linking"/> -->
                            <memberOf key="att.global.analytic"/>
                        </classes>
                        <attList>
                            <!-- globally removes xml:space and xml:base -->
                            <attDef ident="xml:space" usage="opt" mode="delete"/>
                            <attDef ident="xml:base" usage="opt" mode="delete"/>
                        </attList>
                    </classSpec>

                    <!-- Elements that are specificially changed to make the extraction of information for
                    the API work-->


                    <!-- ##### -->
                    <!--   A   -->
                    <!-- ##### -->

                    <!-- ab  -->
                    <!-- Restriction: ab should only include strings; 
                        maybe no need to restrict that but it was in the legacy-ODD -->
                    <elementSpec ident="ab" module="linking" mode="change">
                        <content>
                            <textNode/>
                        </content>
                    </elementSpec>

                    <!-- argument -->

                    <!-- author -->

                    <!-- availability -->

                    <!-- ##### -->
                    <!--   B   -->
                    <!-- ##### -->

                    <!-- back -->

                    <!-- bibl -->
                    <elementSpec ident="bibl" module="core" mode="change">
                        <attList>
                            <!-- this used to be a closed list, made it an open list with two recommended values
                            this way it can be used somewhere else in the document as well, not only in the header to 
                            define the sources. Because the usage is now more flexible, we need to check if the header includes 
                            the digital and original sources as expected-->
                            <attDef ident="type" mode="change" usage="opt">
                                <valList type="open" mode="replace">
                                    <valItem ident="digitalSource">
                                        <desc>Digital Source</desc>
                                    </valItem>
                                    <valItem ident="originalSource">
                                        <desc>Bibliographic citation of the original print
                                            publication the digital text is derived from</desc>
                                    </valItem>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>

                    <!-- biblScope -->
                    <elementSpec ident="biblScope" module="core" mode="change">
                        <attList>
                            <attDef ident="type" mode="replace" usage="rec">
                                <valList type="closed">
                                    <valItem ident="volume">
                                        <desc>Volume containing a play</desc>
                                    </valItem>
                                    <valItem ident="page">
                                        <desc>page range</desc>
                                    </valItem>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>

                    <!-- body -->


                    <!-- ##### -->
                    <!--   C   -->
                    <!-- ##### -->

                    <!-- castGroup -->

                    <elementSpec ident="castGroup" module="drama" mode="change">
                        <attList>
                            <attDef ident="rend" mode="change">
                                <valList mode="replace" type="closed">
                                    <valItem ident="braced">
                                        <desc>braced</desc>
                                    </valItem>
                                </valList>
                            </attDef>
                            <attDef ident="corresp" mode="change">
                                <datatype>
                                    <dataRef key="teidata.pointer"/>
                                </datatype>
                                <remarks>
                                    <p>Used to link a character in the dramatis personae to the
                                        corresponding <!-- person/group? --> element in the
                                            <gi>particDesc</gi></p>
                                </remarks>
                            </attDef>
                        </attList>
                    </elementSpec>

                    <!-- castItem -->
                    <elementSpec ident="castItem" module="drama" mode="change">
                        <attList>
                            <attDef ident="corresp" mode="change">
                                <datatype>
                                    <dataRef key="teidata.pointer"/>
                                </datatype>
                                <remarks>
                                    <p>Used to link a character in the dramatis personae to the
                                        corresponding <!-- person/group? --> element in the
                                            <gi>particDesc</gi></p>
                                </remarks>
                            </attDef>
                        </attList>
                    </elementSpec>


                    <!-- castList -->


                    <!-- change -->
                    <elementSpec ident="change" module="header" mode="change">
                        <attList>
                            <attDef ident="when" mode="change">
                                <!-- we could use @when-iso, because we enforce iso-comlient anyway -->
                                <desc>When was the change made. Should be an iso-conformant
                                    date-time</desc>
                                <datatype>
                                    <dataRef key="teidata.temporal.iso"/>
                                </datatype>
                            </attDef>
                            <!-- maybe use this: -->
                        </attList>
                    </elementSpec>

                    <!-- cit -->


                    <!-- classCode  -->
                    <elementSpec ident="classCode" module="header" mode="change">
                        <content>
                            <textNode/>
                        </content>
                        <attList>
                            <attDef ident="scheme" mode="replace" usage="req">
                                <valList type="closed" mode="replace">
                                    <valItem ident="http://www.wikidata.org/entity/">
                                        <desc>Wikidata</desc>
                                    </valItem>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>

                    <!-- ##### -->
                    <!--   D   -->
                    <!-- ##### -->

                    <!-- date -->
                    <!-- removed because not in use anymore, info is contained in standOff as a event -->


                    <!-- dateline -->


                    <!-- desc -->


                    <!-- div -->
                    <elementSpec ident="div" module="textstructure" mode="change">
                        <attList>
                            <attDef ident="type" mode="replace" usage="req">
                                <desc>Classifies the segment</desc>
                                <valList type="closed">

                                    <!--
                        intermission
                        -->

                                    <valItem ident="act">
                                        <desc>Act, also "Aufzug", "Auftritt"</desc>
                                    </valItem>
                                    <valItem ident="Dramatis_Personae">
                                        <!-- normalize spelling of value? -->
                                        <desc>Dramatis personae</desc>
                                    </valItem>
                                    <valItem ident="scene">
                                        <desc>Scene</desc>
                                    </valItem>
                                    <valItem ident="subscene">
                                        <desc>Subscene</desc>
                                    </valItem>
                                    <valItem ident="dedication">
                                        <desc>Dedication</desc>
                                    </valItem>
                                    <valItem ident="preface">
                                        <desc>Preface</desc>
                                    </valItem>
                                    <valItem ident="postface">
                                        <desc>Postface</desc>
                                    </valItem>

                                    <valItem ident="prologue">
                                        <desc>Prologue</desc>
                                    </valItem>
                                    <valItem ident="epilogue">
                                        <desc>Prologue</desc>
                                    </valItem>
                                    <valItem ident="interlude">
                                        <desc>Interlude, auch: Zwischenspiel</desc>
                                    </valItem>
                                    <valItem ident="entracte">
                                        <desc>Entracte</desc>
                                    </valItem>
                                    <valItem ident="ouverture">
                                        <desc>Ouverture</desc>
                                    </valItem>
                                    <valItem ident="location">
                                        <desc>Location change</desc>
                                    </valItem>
                                    <valItem ident="configuration">
                                        <desc>Change of character constellation, which is not marked
                                            as scene change</desc>
                                    </valItem>
                                    <valItem ident="part">
                                        <desc>Part</desc>
                                    </valItem>
                                    <valItem ident="appendix">
                                        <desc>Appendix</desc>
                                    </valItem>
                                    <valItem ident="tableau">
                                        <desc>Tableau, auch: Kartina</desc>
                                    </valItem>
                                    <valItem ident="dictionary">
                                        <desc>Dictionary</desc>
                                    </valItem>
                                    <valItem ident="variant">
                                        <desc>Variant</desc>
                                    </valItem>
                                    <valItem ident="front">
                                        <desc>Front [Title, Author,...]</desc>
                                    </valItem>
                                    <valItem ident="epigraph">
                                        <desc>Epigraph</desc>
                                    </valItem>
                                    <valItem ident="review">
                                        <desc>Review?</desc>
                                    </valItem>
                                    <valItem ident="set">
                                        <desc>Setting</desc>
                                    </valItem>
                                    <valItem ident="notes">
                                        <desc>Notes</desc>
                                    </valItem>

                                    <!-- Sonderformen aus Nestroy-Stücken-->
                                    <valItem ident="unten">
                                        <desc>"unten"</desc>
                                        <remarks>
                                            <p>Only used in a play of Johann Nestroy</p>
                                        </remarks>
                                    </valItem>
                                    <valItem ident="oben">
                                        <desc>"oben"</desc>
                                    </valItem>
                                    <valItem ident="cholerisch">
                                        <desc>"cholerisch"</desc>
                                    </valItem>
                                    <valItem ident="phlegmatisch">
                                        <desc>"phlegmatisch"</desc>
                                    </valItem>
                                    <valItem ident="melancholisch">
                                        <desc>"melancholisch"</desc>
                                    </valItem>
                                    <valItem ident="sanguinisch">
                                        <desc>"sanguinisch"</desc>
                                    </valItem>
                                </valList>
                            </attDef>
                            <attDef ident="n" mode="replace">
                                <desc>Number of act or scene</desc>
                                <datatype>
                                    <dataRef key="teidata.text"/>
                                </datatype>
                                <remarks>
                                    <p>Used to number acts/scenes??? Don't know if datatype is
                                        correct</p>
                                </remarks>
                            </attDef>
                        </attList>
                    </elementSpec>

                    <!-- docAuthor -->

                    <!-- docImprint -->


                    <!-- docTitle -->


                    <!-- ##### -->
                    <!--   E   -->
                    <!-- ##### -->

                    <!-- editor -->

                    <!-- emph -->


                    <!-- epigraph -->



                    <!-- event -->
                    <elementSpec ident="event" module="namesdates" mode="change">
                        <attList>
                            <!-- 2do: find out, what the API/eXist app supports -->
                            <attDef ident="when" mode="change" usage="opt">
                                <desc>supplies the value of the date</desc>
                                <datatype>
                                    <dataRef key="gYear"/>
                                </datatype>
                                <remarks>
                                    <p>use only year here</p>
                                </remarks>
                            </attDef>
                            <!-- have to allow these two -->
                            <attDef ident="notBefore" mode="change" usage="opt">
                                <desc>supplies the value of the date</desc>
                                <datatype>
                                    <dataRef key="gYear"/>
                                </datatype>
                                <remarks>
                                    <p>use only year here</p>
                                </remarks>
                            </attDef>
                            <attDef ident="notAfter" mode="change" usage="opt">
                                <desc>supplies the value of the date</desc>
                                <datatype>
                                    <dataRef key="gYear"/>
                                </datatype>
                                <remarks>
                                    <p>use only year here</p>
                                </remarks>
                            </attDef>
                            <attDef ident="type" mode="change" usage="req">
                                <valList type="closed" mode="replace">
                                    <valItem ident="print">
                                        <desc>Date of impressum</desc>
                                    </valItem>
                                    <valItem ident="premiere">
                                        <desc>Date of debut performance</desc>
                                    </valItem>
                                    <valItem ident="written">
                                        <!-- don't really understand this, IB -->
                                        <desc>Date of writing</desc>
                                    </valItem>
                                </valList>
                                <remarks>
                                    <p>classifies date, select from the following values</p>
                                </remarks>
                            </attDef>
                        </attList>
                    </elementSpec>

                    <!-- ##### -->
                    <!--   F   -->
                    <!-- ##### -->

                    <!-- figure -->

                    <!-- fileDesc -->



                    <!-- foreign -->


                    <!-- forename -->
                    <elementSpec ident="forename" module="namesdates" mode="change">
                        <attList>
                            <attDef ident="type" mode="change">
                                <valList mode="replace" type="closed">
                                    <valItem ident="patronym">
                                        <desc>Patronym</desc>
                                    </valItem>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>


                    <!-- front -->

                    <!-- ##### -->
                    <!--   G   -->
                    <!-- ##### -->

                    <!-- genName -->


                    <!-- graphic -->


                    <!-- ##### -->
                    <!--   H   -->
                    <!-- ##### -->

                    <!-- head -->


                    <!-- hi -->
                    <!-- use <emph> instead! -->


                    <!-- ##### -->
                    <!--   I   -->
                    <!-- ##### -->

                    <!-- idno -->


                    <elementSpec ident="idno" module="header" mode="change">

                        <attList>

                            <attDef ident="type" mode="change" usage="req">
                                <desc>Classifies the identifier</desc>
                                <valList type="closed" mode="replace">
                                    <!--<valItem ident="dracor">
                                        <desc>DraCor-Identifier</desc>
                                    </valItem>-->
                                    <valItem ident="URL">
                                        <desc>URL</desc>
                                    </valItem>
                                    <valItem ident="wikidata">
                                        <desc>wikidata</desc>
                                    </valItem>
                                    <!--<valItem ident="viaf">
                                        <desc>VIAF</desc>
                                    </valItem>-->
                                    <valItem ident="pnd">
                                        <desc>GND</desc>
                                    </valItem>

                                </valList>
                            </attDef>

                        </attList>
                    </elementSpec>


                    <!-- ##### -->
                    <!--   K   -->
                    <!-- ##### -->

                    <!-- keywords -->


                    <!-- ##### -->
                    <!--   L   -->
                    <!-- ##### -->

                    <!-- l -->

                    <elementSpec ident="l" module="core" mode="change">
                        <attList>
                            <attDef ident="rend" mode="change" usage="opt">
                                <valList type="closed" mode="replace">
                                    <valItem ident="indent"/>
                                </valList>
                            </attDef>
                            <attDef ident="part" mode="change" usage="opt">
                                <valList>
                                    <valItem ident="F">
                                        <desc/>
                                    </valItem>
                                    <valItem ident="I">
                                        <desc/>
                                    </valItem>
                                    <valItem ident="M">
                                        <desc/>
                                    </valItem>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>

                    <!-- label -->
                    <elementSpec ident="label" module="core" mode="change">
                        <content>
                            <textNode/>
                        </content>
                    </elementSpec>

                    <!-- lb -->

                    <!-- lg -->




                    <!-- licence -->
                    <elementSpec ident="licence" module="header" mode="change">
                        <content>
                            <sequence minOccurs="1" maxOccurs="1" preserveOrder="true">
                                <elementRef key="ab" minOccurs="1" maxOccurs="1"/>
                                <elementRef key="ref" minOccurs="1" maxOccurs="1"/>
                            </sequence>
                        </content>
                    </elementSpec>

                    <!-- listChange -->


                    <elementSpec ident="listChange" module="header" mode="change">
                        <content>
                            <elementRef key="change" minOccurs="1" maxOccurs="unbounded"/>
                        </content>
                    </elementSpec>


                    <!-- listEvent! -->


                    <!-- listPerson -->
                    <!--  (att.global.source (@source)) att.typed (@type, @subtype) att.declarable (@default) att.sortable (@sortKey)
                -->
                    <elementSpec ident="listPerson" module="namesdates" mode="change">
                        <attList>
                            <attDef ident="xml:id" mode="delete"/>
                            <attDef ident="n" mode="delete"/>
                            <attDef ident="xml:lang" mode="delete"/>
                            <attDef ident="xml:base" mode="delete"/>
                            <attDef ident="xml:space" mode="delete"/>
                            <attDef ident="rend" mode="delete"/>
                            <attDef ident="style" mode="delete"/>
                            <attDef ident="rendition" mode="delete"/>
                            <attDef ident="cert" mode="delete"/>
                            <attDef ident="resp" mode="delete"/>
                            <attDef ident="source" mode="delete"/>
                            <attDef ident="sortKey" mode="delete"/>
                            <attDef ident="type" mode="delete"/>
                            <attDef ident="subtype" mode="delete"/>
                            <attDef ident="default" mode="delete"/>
                            <attDef ident="corresp" mode="delete"/>
                            <attDef ident="synch" mode="delete"/>
                            <attDef ident="sameAs" mode="delete"/>
                            <attDef ident="copyOf" mode="delete"/>
                            <attDef ident="next" mode="delete"/>
                            <attDef ident="prev" mode="delete"/>
                            <attDef ident="exclude" mode="delete"/>
                            <attDef ident="select" mode="delete"/>
                            <attDef ident="ana" mode="delete"/>
                        </attList>
                    </elementSpec>

                    <!-- listRelation -->
                    <elementSpec ident="listRelation" module="namesdates" mode="change">
                        <attList>

                            <attDef ident="type" mode="change" usage="opt">
                                <valList mode="replace" type="closed">
                                    <valItem ident="personal"/>
                                </valList>
                            </attDef>
                            <attDef ident="subtype" mode="delete"/>
                            <attDef ident="sortKey" mode="delete"/>
                        </attList>
                    </elementSpec>


                    <!-- ##### -->
                    <!--   N   -->
                    <!-- ##### -->

                    <!-- name -->


                    <elementSpec ident="name" module="core" mode="change">
                        <attList>

                            <attDef ident="type" mode="replace" usage="opt">
                                <valList type="closed">
                                    <valItem ident="variant">
                                        <desc>Variant of a name</desc>
                                    </valItem>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>

                    <!-- nameLink -->


                    <!-- note -->


                    <!-- ##### -->
                    <!--   P   -->
                    <!-- ##### -->

                    <!-- p -->


                    <!-- particDesc -->


                    <!-- pb -->

                    <!-- performance -->


                    <!-- persName -->

                    <elementSpec ident="persName" module="namesdates" mode="change">
                        <attList>
                            <attDef ident="type" mode="replace" usage="opt">
                                <valList type="closed">
                                    <valItem ident="variant">
                                        <desc>Variant of a name</desc>
                                    </valItem>
                                    <valItem ident="pen">
                                        <desc>Pen name</desc>
                                    </valItem>
                                    <valItem ident="nobility">
                                        <desc>Noble name</desc>
                                    </valItem>
                                    <valItem ident="pseudo">
                                        <desc>Pseudonym</desc>
                                    </valItem>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>

                    <!-- person -->
                    <!--
            <attribute name="sex">
                <value>MALE</value>
                <value>FEMALE</value>
                <value>UNKNOWN</value>
            </attribute>
            -->

                    <elementSpec ident="person" module="core" mode="change">
                        <attList>
                            <attDef ident="xml:id" mode="change" usage="req"/>
                            <attDef ident="sex" mode="replace" usage="rec">
                                <valList mode="replace" type="closed">
                                    <valItem ident="FEMALE"/>
                                    <valItem ident="MALE"/>
                                    <valItem ident="UNKNOWN"/>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>

                    <!-- personGrp -->

                    <elementSpec ident="personGrp" module="namesdates" mode="change">
                        <attList>
                            <attDef ident="xml:id" mode="change">
                                <datatype>
                                    <dataRef key="ID"/>
                                </datatype>
                            </attDef>
                            <attDef ident="sex" mode="change">
                                <valList mode="replace" type="closed">
                                    <valItem ident="FEMALE"/>
                                    <valItem ident="MALE"/>
                                    <valItem ident="UNKNOWN"/>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>

                    <!-- profileDesc -->


                    <!-- publicationStmt -->



                    <!-- publisher -->


                    <!-- ##### -->
                    <!--   Q   -->
                    <!-- ##### -->

                    <!-- quote -->



                    <!-- ##### -->
                    <!--   R   -->
                    <!-- ##### -->

                    <!-- ref -->



                    <!-- relation -->
                    <elementSpec ident="relation" module="namesdates" mode="change">
                        <attList>

                            <attDef ident="name" mode="change">
                                <valList mode="replace" type="closed">
                                    <valItem ident="parent_of">
                                        <desc>Parent</desc>
                                    </valItem>
                                    <valItem ident="lover_of">
                                        <desc>Lover of</desc>
                                    </valItem>
                                    <valItem ident="related_with">
                                        <desc>Other family relations (e.g. uncles)</desc>
                                    </valItem>
                                    <valItem ident="associated_with">
                                        <desc>For clearly associated characters (e.g.,
                                            butlers)</desc>
                                    </valItem>
                                    <valItem ident="siblings">
                                        <desc>Characters that have at least one parent in
                                            common</desc>
                                    </valItem>
                                    <valItem ident="spouses">
                                        <desc>Characters in marriage (or engaged)</desc>
                                    </valItem>
                                    <valItem ident="friends">
                                        <desc>Characters marked as being friends</desc>
                                    </valItem>
                                    <valItem ident="wikidata">
                                        <desc>Wikidata</desc>
                                        <remarks>
                                            <ab>Used in the relation to link the play to the
                                                wikidata entity</ab>
                                        </remarks>
                                    </valItem>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>

                    <!-- respStmt -->
                    <!-- resp -->

                    <!-- revisionDesc -->

                    <!-- roleDesc -->


                    <!-- role -->

                    <!-- ##### -->
                    <!--   S   -->
                    <!-- ##### -->

                    <!-- set -->


                    <!-- signed -->


                    <!-- sourceDesc -->
                    <elementSpec ident="sourceDesc" module="header" mode="change">
                        <constraintSpec ident="digital_source_in_sourceDesc" scheme="schematron"
                            mode="add">
                            <desc>Checks if a digital source is present in the
                                <gi>sourceDesc</gi></desc>
                            <constraint>
                                <sch:rule context="tei:sourceDesc">
                                    <sch:assert test="tei:bibl[@type eq 'digitalSource']">Digital
                                        source is missing </sch:assert>
                                </sch:rule>
                            </constraint>
                        </constraintSpec>
                        <constraintSpec ident="original_source_in_sourceDesc" scheme="schematron"
                            mode="add">
                            <desc>Checks if a original source for a digital source is
                                available</desc>
                            <constraint>
                                <sch:rule
                                    context="tei:sourceDesc/tei:bibl[@type eq 'digitalSource']">
                                    <sch:assert test="tei:bibl[@type eq 'originalSource']">Original
                                        Source for digital source is missing </sch:assert>
                                </sch:rule>
                            </constraint>
                        </constraintSpec>
                    </elementSpec>


                    <!-- sp -->


                    <!-- speaker -->



                    <!-- spGrp -->


                    <!-- stage -->



                    <!-- standOff -->


                    <!-- surname -->
                    <elementSpec ident="surname" module="namesdates" mode="change">
                        <attList>
                            <attDef ident="sort" mode="change" usage="opt">
                                <valList mode="replace" type="closed">
                                    <valItem ident="1">
                                        <desc>sort on this</desc>
                                    </valItem>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>

                    <!-- ##### -->
                    <!--   T   -->
                    <!-- ##### -->

                    <!-- TEI -->
                    <elementSpec ident="TEI" module="textstructure" mode="change">
                        <!-- The API expects a structure of text/body/... only accepts
                    a single text element, tei_all would allow multiple. 
                    The only other element that is allowed is standOff -->
                        <content>
                            <sequence minOccurs="1" maxOccurs="1">
                                <elementRef key="teiHeader" minOccurs="1" maxOccurs="1"/>
                                <elementRef key="standOff" minOccurs="0" maxOccurs="1"/>
                                <elementRef key="text" minOccurs="1" maxOccurs="1"/>
                            </sequence>
                        </content>
                        <constraintSpec ident="valid_dracor_ids_on_root_tei_element"
                            scheme="schematron" mode="add" corresp="#play_id">
                            <desc>DraCor identifiers should consist of lower case letters followed by a six-digit number. The value is returned as feature
                            <ref target="#play_id">play_id</ref> in the API response object.</desc>
                            <constraint>
                                <sch:rule context="tei:TEI" role="warning">
                                    <sch:assert test="matches(./@xml:id,'^[a-z]+[0-9]{6}$')"> For
                                        DraCor IDs we recommend the pattern ^[a-z]+[0-9]{6}$
                                    </sch:assert>
                                </sch:rule>
                            </constraint>
                        </constraintSpec>
                        <attList>
                            <attDef ident="xml:id" mode="change" usage="req">
                                <datatype>
                                    <dataRef key="ID"/>
                                </datatype>
                                <remarks>
                                    <ab>Should contain the ID of the DraCor play, e.g.
                                            <val>ger000171</val></ab>
                                </remarks>
                            </attDef>
                            <attDef ident="xml:lang" mode="change" usage="opt">
                                <remarks>
                                    <ab>Can encode the language of a corpus. Not the best idea in
                                        the world, but this is the way it is done.</ab>
                                </remarks>
                            </attDef>
                        </attList>
                        <!-- This removes the default TEI-Examples -->
                        <!-- <exemplum>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples"></egXML>
                    </exemplum> -->
                    </elementSpec>



                    <!-- teiHeader -->

                    <!-- term -->

                    <!-- text -->
                    <elementSpec ident="text" module="textstructure" mode="change">
                        <content>
                            <sequence>
                                <classRef key="model.global" minOccurs="0" maxOccurs="unbounded"/>
                                <sequence minOccurs="0">
                                    <elementRef key="front"/>
                                    <classRef key="model.global" minOccurs="0" maxOccurs="unbounded"
                                    />
                                </sequence>
                                <!-- We only allow a single element <body> -->
                                <!-- <alternate> -->
                                <elementRef key="body" minOccurs="1" maxOccurs="1"/>
                                <!-- <elementRef key="group"/> -->
                                <!-- </alternate> -->
                                <classRef key="model.global" minOccurs="0" maxOccurs="unbounded"/>
                                <sequence minOccurs="0">
                                    <elementRef key="back"/>
                                    <classRef key="model.global" minOccurs="0" maxOccurs="unbounded"
                                    />
                                </sequence>
                            </sequence>
                        </content>
                    </elementSpec>



                    <!-- textClass -->



                    <!-- title -->

                    <elementSpec ident="title" module="core" mode="change">
                        <attList>

                            <!-- xml:lang -->

                            <attDef ident="type" mode="replace">
                                <valList mode="replace" type="closed">
                                    <valItem ident="main">
                                        <desc>Main Title</desc>
                                    </valItem>
                                    <valItem ident="sub">
                                        <desc>Subtitle</desc>
                                    </valItem>
                                </valList>
                            </attDef>

                        </attList>

                    </elementSpec>

                    <!-- titlePage -->


                    <!-- titlePart -->
                    <elementSpec ident="titlePart" module="textstructure" mode="change">
                        <attList>

                            <attDef ident="type" mode="change">
                                <valList type="closed">
                                    <valItem ident="main"/>
                                    <valItem ident="sub"/>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>


                    <!-- titleStmt -->


                    <!-- trailer -->

                    <!-- /schema -->
                </schemaSpec>
            </div>
            <!-- /schema -->




        </body>
        <back>
            <div xml:id="div_d71_feature_tables">
                <head>Feature Tables</head>
                <p>In the <title>Report on Programmable Corpora</title> (<ref
                        target="https://zenodo.org/records/7664964"
                        >https://zenodo.org/records/7664964</ref>) we identified
                        <soCalled>features</soCalled> that are returned by the DraCor API. We
                    include the adapted tables here for reference.</p>
                <div xml:id="div_corpus_feature_table">
                    <head>Corpus Features</head>
                    <table>
                        <row>
                            <cell>C1</cell>
                            <cell>corpus_name</cell>
                        </row>
                        <row>
                            <cell>C2</cell>
                            <cell>corpus_uri</cell>
                        </row>
                        <row>
                            <cell>C3</cell>
                            <cell>corpus_title</cell>
                        </row>
                        <row>
                            <cell>C4</cell>
                            <cell>corpus_acronym</cell>
                        </row>
                        <row>
                            <cell>C5</cell>
                            <cell>corpus_description</cell>
                        </row>
                        <row>
                            <cell>C6</cell>
                            <cell>corpus_repository</cell>
                        </row>
                        <row>
                            <cell>C7</cell>
                            <cell>corpus_licence</cell>
                        </row>
                        <row>
                            <cell>C8</cell>
                            <cell>corpus_licence_url</cell>
                        </row>
                        <row>
                            <cell>C9</cell>
                            <cell>corpus_num_of_plays</cell>
                        </row>
                        <row>
                            <cell>C10</cell>
                            <cell>corpus_num_of_characters</cell>
                        </row>
                        <row>
                            <cell>C11</cell>
                            <cell>corpus_num_of_characters_male</cell>
                        </row>
                        <row>
                            <cell>C12</cell>
                            <cell>corpus_num_of_characters_female</cell>
                        </row>
                        <row>
                            <cell>C13</cell>
                            <cell>corpus_num_of_tei_text_elements</cell>
                        </row>
                        <row>
                            <cell>C14</cell>
                            <cell>corpus_num_of_sp</cell>
                        </row>
                        <row>
                            <cell>C15</cell>
                            <cell>corpus_num_of_stage</cell>
                        </row>
                        <row>
                            <cell>C16</cell>
                            <cell>corpus_num_of_word_tokens_in_text_elements</cell>
                        </row>
                        <row>
                            <cell>C17</cell>
                            <cell>corpus_num_of_word_tokens_in_sp</cell>
                        </row>
                        <row>
                            <cell>C18</cell>
                            <cell>corpus_num_of_word_tokens_in_stage</cell>
                        </row>
                        <row>
                            <cell>C19</cell>
                            <cell>corpus_metrics_date_updated</cell>
                        </row>
                        <row>
                            <cell>C20</cell>
                            <cell>corpus_play_objects</cell>
                        </row>
                    </table>
                </div>
                <div xml:id="div_play_feature_table">
                    <head>Play Features</head>
                    <table>

                        <row>
                            <cell>P1</cell>
                            <cell>play_corpus_name</cell>
                        </row>
                        <row>
                            <cell>P2</cell>
                            <cell>play_id</cell>
                        </row>
                        <row>
                            <cell>P3</cell>
                            <cell>play_name</cell>
                        </row>
                        <row>
                            <cell>P4</cell>
                            <cell>play_wikidata_id</cell>
                        </row>
                        <row>
                            <cell>P5</cell>
                            <cell>play_title</cell>
                        </row>
                        <row>
                            <cell>P6</cell>
                            <cell>play_subtitle</cell>
                        </row>
                        <row>
                            <cell>P7</cell>
                            <cell>play_title_en</cell>
                        </row>
                        <row>
                            <cell>P8</cell>
                            <cell>play_subtitle_en</cell>
                        </row>
                        <row>
                            <cell>P9</cell>
                            <cell>play_author_name</cell>
                        </row>
                        <row>
                            <cell>P10</cell>
                            <cell>play_author_name_en</cell>
                        </row>
                        <row>
                            <cell>P11</cell>
                            <cell>play_author_fullname</cell>
                        </row>
                        <row>
                            <cell>P12</cell>
                            <cell>play_author_fullname_en</cell>
                        </row>
                        <row>
                            <cell>P13</cell>
                            <cell>play_author_shortname</cell>
                        </row>
                        <row>
                            <cell>P14</cell>
                            <cell>play_author_shortname_en</cell>
                        </row>
                        <row>
                            <cell>P15</cell>
                            <cell>play_first_author_name</cell>
                        </row>
                        <row>
                            <cell>P16</cell>
                            <cell>play_first_author_shortname</cell>
                        </row>
                        <row>
                            <cell>P17</cell>
                            <cell>play_first_author_deprecation_warning</cell>
                        </row>
                        <row>
                            <cell>P18</cell>
                            <cell>play_author_also_known_as</cell>
                        </row>
                        <row>
                            <cell>P19</cell>
                            <cell>play_author_ref_external_id</cell>
                        </row>
                        <row>
                            <cell>P20</cell>
                            <cell>play_author_ref_type</cell>
                        </row>
                        <row>
                            <cell>P21</cell>
                            <cell>play_num_of_co_authors</cell>
                        </row>
                        <row>
                            <cell>P22</cell>
                            <cell>play_genre_normalized</cell>
                        </row>
                        <row>
                            <cell>P23</cell>
                            <cell>play_is_libretto</cell>
                        </row>
                        <row>
                            <cell>P24</cell>
                            <cell>play_year_written</cell>
                        </row>
                        <row>
                            <cell>P25</cell>
                            <cell>play_year_printed</cell>
                        </row>
                        <row>
                            <cell>P26</cell>
                            <cell>play_year_premiered</cell>
                        </row>
                        <row>
                            <cell>P27</cell>
                            <cell>play_year_normalized</cell>
                        </row>
                        <row>
                            <cell>P28</cell>
                            <cell>play_digital_source_name</cell>
                        </row>
                        <row>
                            <cell>P29</cell>
                            <cell>play_digital_source_url</cell>
                        </row>
                        <row>
                            <cell>P30</cell>
                            <cell>play_original_source_full_citation</cell>
                        </row>
                        <row>
                            <cell>P31</cell>
                            <cell>play_original_source_publisher</cell>
                        </row>
                        <row>
                            <cell>P32</cell>
                            <cell>play_original_source_publication_place</cell>
                        </row>
                        <row>
                            <cell>P33</cell>
                            <cell>play_original_source_publication_year</cell>
                        </row>
                        <row>
                            <cell>P34</cell>
                            <cell>play_original_source_num_of_pages</cell>
                        </row>
                        <row>
                            <cell>P35</cell>
                            <cell>play_num_of_wikipedia_links</cell>
                        </row>
                        <row>
                            <cell>P36</cell>
                            <cell>play_segments</cell>
                        </row>
                        <row>
                            <cell>P37</cell>
                            <cell>play_num_of_segments</cell>
                        </row>
                        <row>
                            <cell>P38</cell>
                            <cell>play_num_of_acts</cell>
                        </row>
                        <row>
                            <cell>P39</cell>
                            <cell>play_num_of_paragraphs</cell>
                        </row>
                        <row>
                            <cell>P40</cell>
                            <cell>play_num_of_verse_lines</cell>
                        </row>
                        <row>
                            <cell>P41</cell>
                            <cell>play_num_of_word_tokens_in_text_elements</cell>
                        </row>
                        <row>
                            <cell>P42</cell>
                            <cell>play_num_of_word_tokens_in_sp</cell>
                        </row>
                        <row>
                            <cell>P43</cell>
                            <cell>play_num_of_word_tokens_in_stage</cell>
                        </row>
                        <row>
                            <cell>P44</cell>
                            <cell>play_characters</cell>
                        </row>
                        <row>
                            <cell>P45</cell>
                            <cell>play_num_of_speakers</cell>
                        </row>
                        <row>
                            <cell>P46</cell>
                            <cell>play_num_of_speakers_gender_female</cell>
                        </row>
                        <row>
                            <cell>P47</cell>
                            <cell>play_num_of_speakers_gender_male</cell>
                        </row>
                        <row>
                            <cell>P48</cell>
                            <cell>play_num_of_speakers_gender_unknown</cell>
                        </row>
                        <row>
                            <cell>P49</cell>
                            <cell>play_num_of_person_groups</cell>
                        </row>
                        <row>
                            <cell>P50</cell>
                            <cell>play_all_in_segment</cell>
                        </row>
                        <row>
                            <cell>P51</cell>
                            <cell>play_all_in_index</cell>
                        </row>
                        <row>
                            <cell>P52</cell>
                            <cell>play_character_relations</cell>
                        </row>
                        <row>
                            <cell>P53</cell>
                            <cell>play_network_data_csv_url</cell>
                        </row>
                        <row>
                            <cell>P54</cell>
                            <cell>play_network_nodes</cell>
                        </row>
                        <row>
                            <cell>P55</cell>
                            <cell>play_network_size</cell>
                        </row>
                        <row>
                            <cell>P56</cell>
                            <cell>play_network_num_edges</cell>
                        </row>
                        <row>
                            <cell>P57</cell>
                            <cell>play_network_average_degree</cell>
                        </row>
                        <row>
                            <cell>P58</cell>
                            <cell>play_network_density</cell>
                        </row>
                        <row>
                            <cell>P59</cell>
                            <cell>play_network_diameter</cell>
                        </row>
                        <row>
                            <cell>P60</cell>
                            <cell>play_network_average_path_length</cell>
                        </row>
                        <row>
                            <cell>P61</cell>
                            <cell>play_network_average_clustering</cell>
                        </row>
                        <row>
                            <cell>P62</cell>
                            <cell>play_network_num_connected_components</cell>
                        </row>
                        <row>
                            <cell>P63</cell>
                            <cell>play_network_max_degree</cell>
                        </row>
                        <row>
                            <cell>P64</cell>
                            <cell>play_network_max_degree_character_ids</cell>
                        </row>
                    </table>
                </div>

                <div xml:id="div_segment_feature_table">
                    <head>Segment Features</head>
                    <table>
                        <row>
                            <cell>S1</cell>
                            <cell>segment_type</cell>
                        </row>
                        <row>
                            <cell>S2</cell>
                            <cell>segment_number</cell>
                        </row>
                        <row>
                            <cell>S3</cell>
                            <cell>segment_title</cell>
                        </row>
                        <row>
                            <cell>S4</cell>
                            <cell>segment_speaking_characters</cell>
                        </row>
                    </table>
                </div>

                <div xml:id="table_character_features">
                    <head>Character Features</head>
                    <table>
                        <row>
                            <cell>Ch1</cell>
                            <cell>character_id</cell>
                        </row>
                        <row>
                            <cell>Ch2</cell>
                            <cell>character_name</cell>
                        </row>
                        <row>
                            <cell>Ch3</cell>
                            <cell>character_is_group</cell>
                        </row>
                        <row>
                            <cell>Ch4</cell>
                            <cell>character_gender</cell>
                        </row>
                        <row>
                            <cell>Ch5</cell>
                            <cell>character_wikidata_id</cell>
                        </row>
                        <row>
                            <cell>Ch6</cell>
                            <cell>character_node_betweenness</cell>
                        </row>
                        <row>
                            <cell>Ch7</cell>
                            <cell>character_node_degree</cell>
                        </row>

                        <row>
                            <cell>Ch8</cell>
                            <cell>character_node_closeness</cell>
                        </row>
                        <row>
                            <cell>Ch9</cell>
                            <cell>character_node_eigenvector</cell>
                        </row>
                        <row>
                            <cell>Ch10</cell>
                            <cell>character_node_weighted_degree</cell>
                        </row>
                        <row>
                            <cell>Ch11</cell>
                            <cell>character_num_of_segments</cell>
                        </row>
                        <row>
                            <cell>Ch12</cell>
                            <cell>character_num_of_sp</cell>
                        </row>
                        <row>
                            <cell>Ch13</cell>
                            <cell>character_num_of_word_tokens</cell>
                        </row>
                        <row>
                            <cell>Ch14</cell>
                            <cell>character_roles</cell>
                        </row>
                        <row>
                            <cell>Ch15</cell>
                            <cell>character_spoken_text</cell>
                        </row>
                    </table>

                </div>

            </div>
            <!-- /div_feature_tables -->
        </back>

    </text>
</TEI>
